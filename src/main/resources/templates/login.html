<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesión | Ecom Store</title>
</head>
<body>
	<section class="login-page">
        <!-- Enlace al CSS de Login -->
        <link rel="stylesheet" href="/css/login.css">

		<div class="container">
			<div class="row align-items-center justify-content-center">
				
                <!-- Imagen decorativa lateral -->
				<div class="col-md-6 d-none d-md-block text-center p-5">
					<img th:src="@{/img/ecom.png}" alt="Login Illustration" class="img-side animate__animated animate__fadeInLeft">
				</div>

                <!-- Tarjeta de Login -->
				<div class="col-md-6 col-lg-5 p-4">
					<div class="card card-login">
						<div class="card-header card-header-login text-center">
                            <div class="login-icon">
                                <i class="fa-solid fa-user-lock"></i>
                            </div>
							<h3 class="fw-bold">¡Bienvenido de nuevo!</h3>
                            <p class="text-muted">Ingresa tus datos para continuar</p>

                            <!-- Alertas de Spring Security -->
							<div th:if="${param.error}" class="alert alert-danger border-0 py-2 small shadow-sm">
								<i class="fa-solid fa-triangle-exclamation me-2"></i> Correo o contraseña incorrectos.
							</div>
							<div th:if="${param.logout}" class="alert alert-success border-0 py-2 small shadow-sm">
								<i class="fa-solid fa-circle-check me-2"></i> Has cerrado sesión correctamente.
							</div>
						</div>

						<div class="card-body">
							<form th:action="@{/login}" method="post">
                                <!-- Input Email -->
								<div class="mb-3">
									<label class="form-label">Correo Electrónico</label> 
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
                                        <input required name="username" type="email" class="form-control" placeholder="nombre@correo.com">
                                    </div>
								</div>

                                <!-- Input Password -->
								<div class="mb-4">
                                    <div class="d-flex justify-content-between">
									    <label class="form-label">Contraseña</label>
                                        <a href="/forgot-password" class="text-decoration-none small fw-bold">¿La olvidaste?</a>
                                    </div>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="fa-solid fa-key"></i></span>
                                        <input required name="password" type="password" class="form-control" placeholder="••••••••">
                                    </div>
								</div>

								<button type="submit" class="btn btn-primary btn-login w-100 mb-3 shadow-sm">
									Ingresar <i class="fa-solid fa-arrow-right-to-bracket ms-2"></i>
								</button>
							</form>
						</div>

						<div class="card-footer bg-white border-0 text-center pb-4 login-footer-links">
							<p class="text-muted mb-0">¿Aún no tienes una cuenta? 
                                <a href="/register" class="text-primary text-decoration-none">Regístrate gratis</a>
                            </p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>
